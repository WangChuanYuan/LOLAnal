<template>
  <div id="playerWin">
    <span style="font-size: 8px">选手胜场词云</span>
    <el-date-picker
      v-model="dateValue"
      type="daterange"
      format="yyyy-MM-dd"
      value-format="yyyyMMdd"
      range-separator="至"
      start-placeholder="起始日期"
      end-placeholder="结束日期"
      :editable="true"
      :picker-options="yearOptions"
      size="mini"
      style="width: 240px"
    >
    </el-date-picker>
    <br/>
    <el-button
      plain
      icon="el-icon-video-play"
      size="mini"
      @click="this.start"
    >
      start
    </el-button>
    <el-button
      plain
      icon="el-icon-video-pause"
      size="mini"
      @click="this.stop"
    >
      stop
    </el-button>
    <div id="pic">
      <img :src="qrcode">
    </div>
  </div>

</template>

<script>
  // import { site_option } from "../echarts/echartsUtil.js";
  // alert(site_option);
  export default {
    name: 'PlayerWin',
    props: {
      createWspath: {
        type: String,
        default: "ws://192.168.0.100:8080/websocket/playerWin_",
      },

      serviceHost: {
        type: String,
        default: "http://192.168.0.100:8080",
      },
    },

    mounted() {
      alert(this.createWspath)
      this.createWs();
    },

    data() {
      let qrcode="data:image/png;base64,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AAAQhAAAAAhCAAAABCEAAACCEAAAAEEIAACAIAQAAEAQAgAAIAgBAAAQhAAAAAhCAAAABCEAAACCEAAAAEEIAACAIAQAAEAQAgAAIAgBAAAQhAAAAIIQAAAAQQgAAIAgBAAAQBACAAAgCAEAABCEAAAACEIAAAAEIQAAAIIQAAAAQQgAAIAgBAAAQBACAAAgCAEAABCEAAAACEIAAAAEIQAAAIIQAAAAQQgAAIAgBAAAQBACAAAgCAEAABCEAAAACEIAAABBCAAAgCAEAABAEAIAACAIAQAAEIQAAAAIQgAAAAQhAAAAghAAAABBCAAAgCAEAABAEAIAACAIAQAAEIQAAAAIQgAAAAQhAAAAghAAAABBCAAAgCAEAABAEAIAACAIAQAAEIQAAAAIQgAAAAQhAAAAghAAAEAQAgAAIAgBAAAQhAAAAAhCAAAABCEAAACCEAAAAEEIAACAIAQAAEAQAgAAIAgBAAAQhAAAAAhCAAAABCEAAACCEAAAAEEIAACAIAQAAEAQAgAAIAgBAAAQhAAAAAhCAAAABCEAAACCEAAAAEEIAAAgCAEAABCEAAAACEIAAAAEIQAAAIIQAAAAQQgAAIAgBAAAQBACAAAgCAEAABCEAAAACEIAAAAEIQAAAIIQAAAAQQgAAIAgBAAAQBACAAAgCAEAABCEAAAACEIAAAAEIQAAAIIQAAAAQQgAAIAgBAAAQBACAAAIQgAAAAQhAAAAghAAAABBCAAAgCAEAABAEAIAACAIAQAAEIQAAAAIQgAAAAQhAAAAghAAAABBCAAAgCAEAABAEAIAACAIAQAAEIQAAAAIQgAAAAQhAAAAghAAAABBCAAAgCAEAABAEAIAACAIAQAABCEAAACCEAAAAEEIAACAIAQAAEAQAgAAIAgBAAAQhAAAAAhCAAAABCEAAACCEAAAAEEIAACAIAQAAEAQAgAAIAgBAAAQhAAAAAhCAAAABCEAAACCEAAAAEEIAACAIAQAAEAQAgAAIAgBAAAQhAAAAAhCAAAAQQgAAIAgBAAAQBACAAAgCAEAABCEAAAACEIAAAAEIQAAAIIQAAAAQQgAAIAgBAAAQBACAAAgCAEAABCEAAAACEIAAAAEIQAAAIIQAAAAQQgAAIAgBAAAQBACAAAgCAEAABCEAAAACEIAAAAEIQAAgCAEAABAEAIAACAIAQAAEIQAAAAIQgAAAAQhAAAAghAAAABBCAAAgCAEAABAEAIAACAIAQAAEIQAAAAIQgAAAAQhAAAAghAAAABBCAAAgCAEAABAEAIAACAIAQAAEIQAAAAIQgAAAAQhAAAAghAAAABBCAAAIAgBAAAQhAAAAAhCAAAABCEAAACCEAAAAEEIAACAIAQAAEAQAgAAIAgBAAAQhAAAAAhCAAAABCEAAACCEAAAAEEIAACAIAQAAEAQAgAAIAgBAAAQhAAAAAhCAAAABCEAAACCEAAAAEEIAACAIAQAABCEAAAACEIAAAAEIQAAAIIQAAAAQQgAAIAgBAAAQBACAAAgCAEAABCEAAAACEIAAAAEIQAAAIIQAAAAQQgAAIAgBAAAQBACAAAgCAEAABCEAAAACEIAAAAEIQAAAIIQAAAAQQgAAIAgBAAAQBACAAAIQkMAAAAgCAEAABCEAAAACEIAAAAEIQAAAIIQAAAAQQgAAIAgBAAAQBACAAAgCAEAABCEAAAACEIAAAAEIQAAAIIQAAAAQQgAAIAgBAAAQBACAAAgCAEAABCEAAAA9NT/A1eBk2q3yuTXAAAAAElFTkSuQmCC"
      let groupId = new Date().getTime();
      this.createWspath = this.createWspath + groupId;

      return {
        socket: null,
        bufferTimer:'',
        groupId: groupId,
        topic: "playerWin",
        load: false,
        qrcode : qrcode,
      };
    },



    methods: {
      createWs() {

        if (typeof WebSocket === "undefined") {
          return;
        }
        this.socket = new WebSocket(this.createWspath);
        this.socket.onopen = function () {
          this.record = new Map();
          console.log("socket 创建成功");
        };
        this.socket.onerror = function (err) {
          console.log(err);
        };

        this.socket.onmessage = this.onmessage;
        this.socket.onclose = function () {
          console.log("socket 退出");
        };
      },

      stop(){
        window.clearInterval(this.bufferTimer)
        this.load = false;
        this.$http.get(
          this.serviceHost +
          "/stop_consumer?socketname=" +
          this.topic +
          "_" +
          this.groupId
        );
      },
      start() {
        this.load = true;
        // this.clear();
        //console.log(endTime);
        let data = {
          topic: this.topic,
          groupId: this.groupId + "",
          start: "",
          end: "",
          hero: "",
        };
        this.$http
          .post(this.serviceHost + "/start_consumer", data)
          .then((res) => {
            console.log(res);
          });
      },
      onmessage(msg) {
         this.qrcode ='data:image/png;base64,'+decodeURI(msg.data);
         console.log(this.qrcode)
      },
    },
  };
</script>
